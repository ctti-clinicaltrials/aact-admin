<div class="wrap">

  <div class="basicHero">
    <h1>AACT Database Schema</h1>
  </div>

  <p>The diagram below illustrates how ClinicalTrials.gov data are stored in the AACT database; it identifies all tables/columns and relationships.</p>
  <p>Each table includes the unique identifier assigned by ClinicalTrials.gov: <i>nct_id</i>. This provides a way to find all data about a particular study and serves as the key that joins related information across multiple tables. Every table (except Studies) also includes an <i>id</i> column which uniquely identifies each row in the table. In most cases, you need to use the <i>nct_id</i> to join tables. For more information about the <i>id</i> column, please refer to the documentation found <a href='/schema#idInformation'>here.</a></p>

  <p>AACT schema diagrams and documentation may be downloaded from the following links:</p>
  <p>
  <ul class='regularDisplay'>
        <li><a href=<%= @schema_diagram %> target="_blank" onClick="ga('send','event','download','download schema')"  >downloadable schema diagram</a> (right click on the resulting page to download)</li>

        <% if @show_dictionary_link %>
          <li><a href=<%= @data_dictionary %> target="_blank" onClick="ga('send','event','download','download data dictionary')">excel version of data dictionary</a> (online searchable version also available <a href='/data_dictionary' target='_blank'>here</a>)</li>
        <% else %>
          <li><a href=<%= @data_dictionary %> target="_blank" onClick="ga('send','event','download','download data dictionary')">excel version of data dictionary</a></li>
        <% end %>
        <li><a href=<%= @table_dictionary %> target="_blank" onClick="ga('send','event','download','download data dictionary')">excel version of table definitions</a></li>
  </ul>
  </p>

  <section class="schema">
     <%= image_tag(@schema_diagram) %>
  </section>

  <h4>AACT Projects</h4>
  <p>To facilitate public sharing of information acquired during previous research efforts, the AACT database also includes 'project schemas'. These schemas allow any database user to access select sets of derived data artifacts that were gathered & curated during previous AACT-based research. Currently, data for three projects are available in AACT. Click <a href='/projects/' target="_blank">here</a> to learn more about these projects.</p>

  <p>The schema diagrams below show the current set of schemas and tables that comprise this 'AACT Projects' feature.</p>

  <section class="schema">
     <% @project_schema_files.each do |schema_file| %>
       <p><%= image_tag(schema_file) %></p>
     <% end %>
  </section>


  <%= render 'download_database_specs' %>

  <%= render 'schema_info' %>
</div>
